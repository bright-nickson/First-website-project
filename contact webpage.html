<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Korku Kish</title>  
    <link rel="icon" type="image/jpg" href="kk2.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="contact webpage.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <h2>Korku Kish</h2>          
        </div> 

        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>   
                <li><a href="About website.html">About</a></li>
                <li><a href="Service.html">Services</a></li>
            </ul>
        </nav> 
    </header>

    <!-- Background -->
    <div class="background"></div>
<!-- Main Content -->
<main>
    <!-- Hero Section -->
    <div class="contact-hero">
        <h1 class="glowing-text">Let's Create Magic Together</h1>
        <p class="subtitle">Ready to capture your special moments? Drop us a message!</p>
    </div>

    <!-- Contact Container -->
    <div class="contact-container">
        <!-- Contact Form -->
        <div class="form-wrapper">
            <div class="form-header">
                <h2>Send Us A Message</h2>
            </div>

            <!-- ‚úÖ FORM STARTS HERE -->
            <form id="contact-form">
                <div class="form-row">
                    <div class="input-group">
                        <label for="firstname">First Name</label>
                        <input type="text" id="firstname" name="firstname" placeholder="John" minlength="3" required>
                    </div>

                    <div class="input-group">
                        <label for="lastname">Last Name</label>
                        <input type="text" id="lastname" name="lastname" placeholder="Doe" required>
                    </div>
                </div>

                <div class="input-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" placeholder="john.doe@gmail.com" required>
                </div>

                <div class="input-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="+233 XX XXX XXXX" required>
                </div>

                <div class="input-group">
                    <label for="message">Your Message</label>
                    <textarea id="message" name="message" rows="5" placeholder="Tell us about your photography needs..." required></textarea>
                </div>

                <div class="radio-group">
                    Purpose of Contact
                    <div class="radio-options">
                        <label class="radio-label">
                            <input type="radio" name="enquiries" value="Business Enquiries" required>
                            <span class="radio-custom"></span>
                            <span class="radio-text">Business Enquiries</span>
                        </label>

                        <label class="radio-label">
                            <input type="radio" name="enquiries" value="Booking Schedule" required>
                            <span class="radio-custom"></span>
                            <span class="radio-text">Booking Schedule</span>
                        </label>

                        <label class="radio-label">
                            <input type="radio" name="enquiries" value="General Inquiry" required>
                            <span class="radio-custom"></span>
                            <span class="radio-text">General Inquiry</span>
                        </label>
                    </div>
                </div>

                <button type="submit" class="submit-btn">
                    <span>Send Message</span>
                </button>
            </form>
            <!-- ‚úÖ FORM ENDS HERE -->
        </div>

        <!-- Contact Info Sidebar -->
        <div class="social-connect">
            <h3>Connect With Us</h3>
            <div class="social-buttons">
                <a href="" target="_blank" class="social-btn facebook">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="" target="_blank" class="social-btn instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://x.com/KorkuKish" target="_blank" class="social-btn twitter">
                    <i class="fab fa-x-twitter"></i>
                </a>
            </div>
        </div>
    </div>
</main>


    <!-- Footer -->
    <footer class="footer">
        <p>Follow KorkuKish on:</p>
        <div class="social-icons">
            <a href="https://www.facebook.com/Kishmawuli"target="_blank"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.instagram.com/korkukish_shotit/" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://x.com/KorkuKish" target="_blank"><i class="fab fa-x-twitter"></i></a>
        </div>
        <p>&copy; 2025 Korku Kish Photography. All rights reserved.</p>
    </footer>
<script>    
document.addEventListener('DOMContentLoaded', function() {
    // Use a single resilient selector: prefer the form inside .form-wrapper, otherwise try the explicit id
    const contactFormCandidate = document.querySelector('.form-wrapper form');
    const contactFormById = document.getElementById('contact-form');
    const contactForm = contactFormCandidate || contactFormById;

    if (!contactForm) {
        console.error('‚ùå Contact form not found! Checking for wrapper and form separately...');
        console.error('.form-wrapper exists?', !!document.querySelector('.form-wrapper'));
        console.error('#contact-form exists?', !!contactFormById);
        // Helpful hint for development: inspect the DOM and ensure the <form> is inside an element with class "form-wrapper" or add id="contact-form" to the form.
        return;
    }

    console.log('‚úÖ Contact form found! (selector: ' + (contactForm.id ? '#' + contactForm.id : '.form-wrapper form') + ')');
    
    contactForm.addEventListener('submit', async function(e) {
        e.preventDefault(); // Prevent default form submission
        console.log('üöÄ Form submission intercepted');
        
        // Collect form data (matching your actual HTML IDs)
        const formData = {
            firstname: document.getElementById('firstname').value.trim(),
            lastname: document.getElementById('lastname').value.trim(),
            email: document.getElementById('email').value.trim(),
            phone: document.getElementById('phone').value.trim(),
            message: document.getElementById('message').value.trim(),
            enquiries: document.querySelector('input[name="enquiries"]:checked')?.value || ''
        };



        
        
        console.log('üìã Form data:', formData);
        
        // Validate fields
        if (!formData.firstname || !formData.lastname || !formData.email || !formData.phone || !formData.message || !formData.enquiries) {
            alert('Please fill in all fields and select a purpose of contact.');
            return;
        }
        
        // Show loading state
        const submitButton = contactForm.querySelector('button[type="submit"]');
        const originalText = submitButton.textContent;
        submitButton.textContent = 'Sending...';
        submitButton.disabled = true;
        
        try {
            console.log('üöÄ Sending request to API...');
            
            const response = await fetch('https://w5gn7icijc.execute-api.eu-west-1.amazonaws.com/contact' , {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(formData),
                mode: 'cors',
                credentials: 'omit'
            });
            
            console.log('üì° Response status:', response.status);
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const result = await response.json();
            console.log('‚úÖ Response data:', result);
            
            if (result.success) {
                alert('Message sent successfully! Thank you for contacting us.');
                contactForm.reset();
            } else {
                alert('Failed to send message: ' + (result.message || 'Unknown error'));
            }
            
        } catch (error) {
            console.error('‚ùå Fetch error:', error);
            
            if (error.name === 'TypeError' && error.message.includes('CORS')) {
                alert('CORS error: Please try again or contact us directly.');
            } else if (error.message.includes('Failed to fetch')) {
                alert('Network error: Please check your internet connection.');
            } else {
                alert('Error sending message: ' + error.message);
            }
        } finally {
            // Reset button
            submitButton.textContent = originalText;
            submitButton.disabled = false;
        }
    });
});
</script>

</body>
</html>